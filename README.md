# ipybox

ipybox is a Python code execution sandbox with first-class support for calling and composing MCP servers in Python code. It generates typed Python wrapper functions from MCP server tool schemas, supporting both local stdio and remote HTTP servers. Code that calls these generated functions executes in a sandboxed IPython kernel, providing a stateful environment where variables and definitions persist across executions. MCP servers run in a managed environment that enforces tool call approval, requiring applications to explicitly accept or reject each tool call before it executes.

ipybox is designed for agents that interact with their environment through code actions rather than JSON tool calls. Agents generate and execute Python code that composes multiple MCP tool calls into a single action, using loops, conditionals, and data transformations that structured schemas cannot express. Since agent-generated code cannot be trusted, ipybox provides secure sandboxed execution with mandatory approval for MCP tool calls. Code generation for MCP tools is more reliable than JSON-based tool calling, and generated code actions can be saved and reused as skills in future executions, all running locally without cloud dependencies.
