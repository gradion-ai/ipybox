# ipybox

ipybox is a Python code execution sandbox with first-class support for calling and composing MCP servers in Python code. It generates typed Python wrapper functions from MCP server tool schemas, supporting both local stdio and remote HTTP servers. Code that calls these generated functions executes in a sandboxed IPython kernel, providing a stateful environment where variables and definitions persist across executions. MCP servers run in a managed environment that enforces tool call approval, requiring applications to explicitly accept or reject each tool call before it executes. Code executes locally without cloud dependencies.

ipybox is designed for agents that interact with their environment through code actions rather than JSON tool calls, a more reliable approach since LLMs are pretrained extensively on Python code. Agents generate and execute Python code that composes multiple MCP tool calls into a single action, using loops, conditionals, and data transformations that keep intermediate results out of the agent's context window. Since agent-generated code cannot be trusted, it must run in a secure sandboxed environment combined with mandatory approval of MCP tool calls, the key features provided by ipybox.
